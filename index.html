<!doctype html>
<html lang="en">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1" />
<title>GeoVision LK | Operational Intelligence Dashboard</title>

<!-- Fonts & Icons -->
<link href="https://fonts.googleapis.com/css2?family=Outfit:wght@300;400;500;600;700&family=Inter:wght@300;400;600&family=Noto+Sans+Sinhala:wght@400;600&family=Noto+Sans+Tamil:wght@400;600&display=swap" rel="stylesheet">
<link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" rel="stylesheet">
<script src="https://cdn.jsdelivr.net/npm/marked/marked.min.js"></script>

<style>
    :root {
        --primary: #0f172a;        /* Deep Navy */
        --primary-light: #1e293b;
        --accent: #3b82f6;        /* Tech Blue */
        --accent-glow: rgba(59, 130, 246, 0.4);
        --text-main: #334155;
        --text-light: #64748b;
        --bg-color: #f8fafc;
        --glass-bg: rgba(255, 255, 255, 0.85);
        --glass-border: rgba(255, 255, 255, 0.5);
    }

    * { box-sizing: border-box; }

    body {
        font-family: 'Inter', 'Noto Sans Sinhala', 'Noto Sans Tamil', sans-serif;
        background: var(--bg-color);
        margin: 0;
        color: var(--primary);
        overflow-x: hidden;
    }

    h1, h2, h3, h4, .brand { font-family: 'Outfit', sans-serif; }

    /* --- NAVIGATION --- */
    nav {
        position: fixed; top: 0; width: 100%;
        background: rgba(255, 255, 255, 0.9);
        backdrop-filter: blur(10px);
        border-bottom: 1px solid rgba(0,0,0,0.05);
        padding: 15px 5%;
        display: flex; justify-content: space-between; align-items: center;
        z-index: 100;
    }
    .brand { font-size: 1.5rem; font-weight: 700; color: var(--primary); display: flex; align-items: center; gap: 10px; }
    .brand i { color: var(--accent); }
    .nav-links a { text-decoration: none; color: var(--text-main); margin-left: 30px; font-weight: 500; font-size: 0.95rem; transition: 0.3s; }
    .nav-links a:hover { color: var(--accent); }
    .nav-cta { background: var(--primary); color: white; padding: 8px 20px; border-radius: 6px; text-decoration: none; font-weight: 600; transition: 0.3s; }
    .nav-cta:hover { background: var(--accent); box-shadow: 0 4px 15px var(--accent-glow); }

    /* --- HERO SECTION --- */
    .hero {
        padding: 160px 5% 100px;
        background: radial-gradient(circle at 10% 20%, rgba(59, 130, 246, 0.1) 0%, transparent 40%),
                    radial-gradient(circle at 90% 80%, rgba(15, 23, 42, 0.05) 0%, transparent 40%);
        text-align: center;
    }
    .hero h1 { font-size: 3.5rem; line-height: 1.1; margin-bottom: 20px; color: var(--primary); letter-spacing: -1px; }
    .hero p { font-size: 1.25rem; color: var(--text-light); max-width: 700px; margin: 0 auto 40px; line-height: 1.6; }
    .hero span.highlight { color: var(--accent); position: relative; }
    .hero span.highlight::after { content:''; position: absolute; bottom: 5px; left: 0; width: 100%; height: 8px; background: var(--accent); opacity: 0.2; z-index: -1; }
    
    .hero-btn {
        display: inline-block; padding: 15px 35px; background: var(--accent); color: white; font-size: 1.1rem; border-radius: 50px; text-decoration: none; font-weight: 600; transition: 0.3s; box-shadow: 0 10px 30px rgba(59, 130, 246, 0.3);
    }
    .hero-btn:hover { transform: translateY(-3px); box-shadow: 0 15px 40px rgba(59, 130, 246, 0.5); }

    /* --- SECTIONS COMMON --- */
    .section { padding: 80px 5%; }
    .section-title { text-align: center; margin-bottom: 60px; }
    .section-title h2 { font-size: 2.2rem; margin-bottom: 15px; }
    .section-title p { color: var(--text-light); max-width: 600px; margin: 0 auto; }

    /* --- PROBLEM / SOLUTION --- */
    .grid-2 { display: grid; grid-template-columns: 1fr 1fr; gap: 50px; align-items: center; max-width: 1200px; margin: 0 auto; }
    .problem-card {
        background: white; padding: 40px; border-radius: 20px; box-shadow: 0 10px 40px rgba(0,0,0,0.05); border: 1px solid rgba(0,0,0,0.03);
    }
    .problem-card h3 { font-size: 1.5rem; margin-top: 0; color: #ef4444; }
    .problem-list { list-style: none; padding: 0; }
    .problem-list li { margin-bottom: 15px; display: flex; gap: 10px; color: var(--text-main); }
    .problem-list li i { color: #ef4444; margin-top: 4px; }

    .solution-text h3 { font-size: 2rem; margin-bottom: 20px; }
    .solution-text p { font-size: 1.1rem; color: var(--text-light); line-height: 1.6; margin-bottom: 20px; }
    
    /* --- FEATURES --- */
    .features-grid { display: grid; grid-template-columns: repeat(auto-fit, minmax(300px, 1fr)); gap: 30px; max-width: 1200px; margin: 0 auto; }
    .feature-card {
        background: white; padding: 30px; border-radius: 16px; transition: 0.3s; border: 1px solid #f1f5f9;
        display: flex; flex-direction: column; gap: 15px;
    }
    .feature-card:hover { transform: translateY(-5px); box-shadow: 0 20px 40px rgba(0,0,0,0.08); border-color: var(--accent); }
    .icon-box {
        width: 50px; height: 50px; background: rgba(59, 130, 246, 0.1); border-radius: 12px; display: flex; align-items: center; justify-content: center; color: var(--accent); font-size: 1.4rem;
    }
    .feature-card h4 { font-size: 1.3rem; margin: 0; }
    .feature-card p { color: var(--text-light); font-size: 0.95rem; line-height: 1.5; margin: 0; }

    /* --- IMPACT STATS --- */
    .impact-section { background: var(--primary); color: white; padding: 80px 5%; text-align: center; }
    .impact-grid { display: flex; justify-content: center; gap: 80px; flex-wrap: wrap; margin-top: 50px; }
    .stat-item h3 { font-size: 3rem; margin: 0; color: var(--accent); }
    .stat-item p { font-size: 1.1rem; opacity: 0.8; margin-top: 10px; }

    /* --- FOOTER --- */
    footer { background: #f1f5f9; padding: 50px 5%; text-align: center; color: var(--text-light); font-size: 0.9rem; }
    .footer-links { display: flex; justify-content: center; gap: 30px; margin-bottom: 30px; }
    .footer-links a { color: var(--primary); text-decoration: none; font-weight: 600; }

    /* --- CHATBOT WIDGET CSS (Enhanced) --- */
    .chat-toggle-btn {
        position: fixed; bottom: 30px; right: 30px;
        width: 65px; height: 65px;
        background: var(--accent);
        border-radius: 50%; color: white; border: none; cursor: pointer;
        box-shadow: 0 10px 25px rgba(59, 130, 246, 0.4); z-index: 1000;
        display: flex; align-items: center; justify-content: center; font-size: 26px;
        transition: all 0.4s; animation: pulse-blue 2s infinite;
    }
    @keyframes pulse-blue { 
        0% { box-shadow: 0 0 0 0 rgba(59, 130, 246, 0.7); } 
        70% { box-shadow: 0 0 0 15px rgba(59, 130, 246, 0); } 
        100% { box-shadow: 0 0 0 0 rgba(59, 130, 246, 0); } 
    }
    .chat-toggle-btn:hover { transform: scale(1.1); }
    .chat-toggle-btn.open { transform: rotate(180deg); background: var(--primary); }

    .chat-widget {
        position: fixed; bottom: 110px; right: 30px;
        width: 380px; height: 650px; max-height: 80vh;
        background: rgba(255, 255, 255, 0.95); backdrop-filter: blur(20px);
        border: 1px solid rgba(255, 255, 255, 0.8); border-radius: 24px;
        box-shadow: 0 25px 50px rgba(0,0,0,0.15);
        display: flex; flex-direction: column; overflow: hidden; z-index: 999;
        opacity: 0; transform: scale(0.9) translate(20px, 20px); pointer-events: none;
        transition: all 0.3s cubic-bezier(0.19, 1, 0.22, 1);
    }
    .chat-widget.active { opacity: 1; transform: scale(1) translate(0, 0); pointer-events: all; }

    .header {
        background: var(--primary); padding: 20px;
        display: flex; align-items: center; justify-content: space-between; color: white;
    }
    .header-text h2 { margin: 0; font-size: 16px; font-weight: 600; }
    .header-text p { margin: 2px 0 0 0; font-size: 11px; opacity: 0.7; letter-spacing: 0.5px; text-transform: uppercase; }

    .header-actions { display: flex; gap: 8px; align-items: center; }
    .lang-select {
        background: rgba(255,255,255,0.1); color: white;
        border: 1px solid rgba(255,255,255,0.2); border-radius: 6px;
        padding: 4px 8px; font-size: 11px; cursor: pointer; outline: none;
    }
    .lang-select option { background: var(--primary); }

    #chat-history {
        flex: 1; padding: 20px; overflow-y: auto;
        display: flex; flex-direction: column; gap: 15px; scroll-behavior: smooth;
        background: #f8fafc;
    }
    .message { max-width: 85%; padding: 12px 16px; border-radius: 12px; font-size: 0.9rem; line-height: 1.5; animation: slideUp 0.3s ease forwards; }
    .bot-message { background: white; color: var(--text-main); border-bottom-left-radius: 2px; border: 1px solid #e2e8f0; }
    .user-message { background: var(--accent); color: white; border-bottom-right-radius: 2px; margin-left: auto; }
    .bot-message strong { color: var(--primary); font-weight: 700; }

    .input-area { padding: 15px; background: white; display: flex; gap: 10px; align-items: center; border-top: 1px solid #f1f5f9; }
    input {
        flex: 1; padding: 12px; border-radius: 8px; border: 1px solid #e2e8f0;
        outline: none; font-size: 14px; background: #f8fafc;
    }
    input:focus { border-color: var(--accent); background: white; }
    #send-btn {
        background: var(--primary); color: white; border: none; width: 40px; height: 40px; border-radius: 8px;
        cursor: pointer; display: flex; align-items: center; justify-content: center; transition: 0.2s;
    }
    #send-btn:hover { background: var(--accent); }

    @media (max-width: 768px) {
        .hero h1 { font-size: 2.5rem; }
        .grid-2 { grid-template-columns: 1fr; }
        .chat-widget { width: 90%; right: 5%; bottom: 90px; height: 70vh; }
    }
</style>
</head>
<body>

    <!-- NAV -->
    <nav>
        <div class="brand"><i class="fa-solid fa-layer-group"></i> GeoVision LK</div>
        <div class="nav-links" style="display: flex; align-items: center;">
            <a href="#problem" style="display: none;">Solutions</a> <!-- Hidden on mobile usually -->
            <a href="#features" style="display: none;">Features</a>
            <a href="#" onclick="toggleChat()" class="nav-cta">Launch Demo</a>
        </div>
    </nav>

    <!-- HERO -->
    <section class="hero">
        <h1>Transform Field Data into<br><span class="highlight">Actionable 3D Insights</span></h1>
        <p>GeoVision LK replaces static spreadsheets with a dynamic, interactive 3D command center. Visualize operations, track reach, and make faster decisions with a unified dashboard designed for modern program management.</p>
        <a href="#" onclick="toggleChat();" class="hero-btn">Start Visualizing Now</a>
        <p style="margin-top: 20px; font-size: 0.9rem; opacity: 0.7;"><i class="fa-solid fa-check-circle"></i> No installation required • Instant Access</p>
    </section>

    <!-- PROBLEM/SOLUTION -->
    <section id="problem" class="section">
        <div class="grid-2">
            <div class="problem-card">
                <h3><i class="fa-solid fa-triangle-exclamation"></i> The Challenge</h3>
                <p>Organizations rely on static reports and spreadsheets, leading to:</p>
                <ul class="problem-list">
                    <li><i class="fa-solid fa-xmark"></i> <strong>Siloed Data:</strong> Critical info trapped in files.</li>
                    <li><i class="fa-solid fa-xmark"></i> <strong>Slow Insights:</strong> Weeks to identify operational gaps.</li>
                    <li><i class="fa-solid fa-xmark"></i> <strong>Low Engagement:</strong> Stakeholders struggle to visualize impact.</li>
                </ul>
            </div>
            <div class="solution-text">
                <h3>The GeoVision Solution</h3>
                <p>Think of it as a <strong>visual operations control room</strong>. A live map on the screen, clear KPIs at a glance, and the ability to drill down into any district instantly.</p>
                <p>We transform raw field reports into an engaging, easy-to-read visualization built around an interactive 3D map.</p>
            </div>
        </div>
    </section>

    <!-- FEATURES -->
    <section id="features" class="section" style="background: #f1f5f9;">
        <div class="section-title">
            <h2>Designed for Operational Clarity</h2>
            <p>Powerful features engineered for both technical and non-technical teams.</p>
        </div>
        <div class="features-grid">
            <div class="feature-card">
                <div class="icon-box"><i class="fa-solid fa-map-location-dot"></i></div>
                <h4>Interactive 3D Map</h4>
                <p>Hover to view regions, click for deep-dives. Visualize operations geographically to spot trends instantly.</p>
            </div>
            <div class="feature-card">
                <div class="icon-box"><i class="fa-solid fa-chart-pie"></i></div>
                <h4>Unified KPI Interface</h4>
                <p>All summaries in one easy-to-digest view. Track total seminars, people reached, and coverage in real-time.</p>
            </div>
            <div class="feature-card">
                <div class="icon-box"><i class="fa-solid fa-file-invoice"></i></div>
                <h4>District Detail Cards</h4>
                <p>Access comprehensive pop-ups with charts, contact info, and PDF attachments for every specific region.</p>
            </div>
            <div class="feature-card">
                <div class="icon-box"><i class="fa-solid fa-mobile-screen"></i></div>
                <h4>Fully Responsive</h4>
                <p>Engineered for any device. Access your operational data from headquarters or the field on mobile/tablet.</p>
            </div>
        </div>
    </section>

    <!-- IMPACT METRICS -->
    <section class="impact-section">
        <div class="section-title" style="color: white; margin-bottom: 30px;">
            <h2 style="margin-bottom: 10px;">Strategic Business Impact</h2>
            <p style="color: rgba(255,255,255,0.7);">Why leading organizations are switching to GeoVision.</p>
        </div>
        <div class="impact-grid">
            <div class="stat-item">
                <h3><i class="fa-solid fa-bolt"></i> Fast</h3>
                <p>Accelerated Decision Making</p>
            </div>
            <div class="stat-item">
                <h3><i class="fa-solid fa-eye"></i> Clear</h3>
                <p>Enhanced Stakeholder Transparency</p>
            </div>
            <div class="stat-item">
                <h3><i class="fa-solid fa-chart-line"></i> 100%</h3>
                <p>Data-Driven Visibility</p>
            </div>
        </div>
    </section>

    <!-- FOOTER -->
    <footer>
        <div class="footer-links">
            <a href="#">Privacy Policy</a>
            <a href="#">Terms of Service</a>
            <a href="#" onclick="toggleChat()">Support</a>
        </div>
        <p>&copy; 2024 GeoVision LK Dashboard Project. All rights reserved.<br>Designed for maximum operational impact.</p>
    </footer>

    <!-- CHAT WIDGET -->
    <button class="chat-toggle-btn" id="toggle-btn" onclick="toggleChat()">
        <i class="fa-solid fa-robot"></i>
    </button>

    <div class="chat-widget" id="chat-widget">
        <div class="header">
            <div class="header-text">
                <h2>GeoVision AI</h2>
                <p>Sales & Support Agent</p>
            </div>
            <div class="header-actions">
                <select id="lang-select" class="lang-select" onchange="changeLanguage()">
                    <option value="en">EN</option>
                    <option value="si">SI</option>
                    <option value="ta">TA</option>
                </select>
                <button onclick="toggleChat()" style="background:none; border:none; color:white; cursor:pointer;"><i class="fa-solid fa-chevron-down"></i></button>
            </div>
        </div>

        <div id="chat-history"></div>
        <div class="input-area">
            <input id="user-input" type="text" placeholder="Ask about pricing, features..." />
            <button id="send-btn"><i class="fa-solid fa-paper-plane"></i></button>
        </div>
    </div>

<script>
// ==========================================
// CONFIGURATION
// ==========================================
const API_KEY = "AIzaSyAYL2HePusRySc2lZRFhnHIAEJHF1yfLGo"; 

// Knowledge Base tailored to the professional Landing Page
const BASE_KNOWLEDGE = `
You are the Sales and Support AI for "GeoVision LK".
Your persona: Professional, Convincing, Corporate, and Helpful.

--- PRODUCT INFO ---
Product: GeoVision LK Dashboard.
Type: Interactive 3D Field Reporting Tool.
Value Prop: Replaces static spreadsheets with dynamic 3D maps for faster decision-making.

--- KEY SELLING POINTS (from Landing Page) ---
1. **Visual Control Room:** Live maps + clear KPIs.
2. **Eliminates Silos:** Brings disconnected spreadsheet data into one view.
3. **District Granularity:** Clickable regions for deep-dive analytics.
4. **Stakeholder Ready:** Visuals that look good in board meetings and donor reports.

--- FAQ ---
Q: Why do I need this?
A: Static reports are slow and hard to read. GeoVision gives you instant, visual insights to identify hotspots and gaps immediately.

Q: Is it mobile friendly?
A: Yes, it is fully responsive for tablets and mobile devices.

Q: How does data get in?
A: We support simple data import (Excel/CSV) and manual entry forms.

Q: Contact?
A: Please contact the Project Owner for a demo.
`;

// --- UI LOGIC ---
const widget = document.getElementById('chat-widget');
const toggleBtn = document.getElementById('toggle-btn');
const chatHistory = document.getElementById('chat-history');
const userInput = document.getElementById('user-input');
const sendBtn = document.getElementById('send-btn');
const langSelect = document.getElementById('lang-select');

let isOpen = false;
let currentLang = 'en';

const translations = {
    en: { welcome: "Welcome to GeoVision LK. <br>I can explain how our dashboard transforms your data reporting. How can I assist?", placeholder: "Ask about features or benefits..." },
    si: { welcome: "GeoVision LK වෙත සාදරයෙන් පිළිගනිමු. <br>අපගේ පද්ධතිය ඔබේ දත්ත වාර්තාකරණය වෙනස් කරන ආකාරය මට පැහැදිලි කළ හැක.", placeholder: "විශේෂාංග ගැන අසන්න..." },
    ta: { welcome: "GeoVision LK க்கு வரவேற்கிறோம். <br>எங்கள் டாஷ்போர்டு உங்கள் தரவு அறிக்கையை எவ்வாறு மாற்றுகிறது என்பதை நான் விளக்குகிறேன்.", placeholder: "அம்சங்கள் பற்றி கேட்கவும்..." }
};

function renderUI(lang) {
    userInput.placeholder = translations[lang].placeholder;
    chatHistory.innerHTML = ''; 
    appendMessage(translations[lang].welcome, false);
}

function changeLanguage() {
    currentLang = langSelect.value;
    renderUI(currentLang);
}

function toggleChat() {
    isOpen = !isOpen;
    if (isOpen) {
        widget.classList.add('active');
        toggleBtn.classList.add('open');
        toggleBtn.innerHTML = '<i class="fa-solid fa-xmark"></i>';
        setTimeout(() => userInput.focus(), 300);
    } else {
        widget.classList.remove('active');
        toggleBtn.classList.remove('open');
        toggleBtn.innerHTML = '<i class="fa-solid fa-robot"></i>';
    }
}

function appendMessage(text, isUser) {
    const div = document.createElement('div');
    div.className = `message ${isUser ? 'user-message' : 'bot-message'}`;
    if (isUser) div.innerText = text;
    else div.innerHTML = marked.parse(text);
    chatHistory.appendChild(div);
    chatHistory.scrollTop = chatHistory.scrollHeight;
}

async function sendMessage() {
    const text = userInput.value.trim();
    if (!text) return;

    appendMessage(text, true);
    userInput.value = '';
    
    // Simple visual loading
    const loadingDiv = document.createElement('div');
    loadingDiv.className = 'message bot-message';
    loadingDiv.innerHTML = '<i class="fa-solid fa-circle-notch fa-spin"></i> Analyzing...';
    chatHistory.appendChild(loadingDiv);
    chatHistory.scrollTop = chatHistory.scrollHeight;

    let langInstruction = currentLang === 'si' ? "Reply in SINHALA." : (currentLang === 'ta' ? "Reply in TAMIL." : "Reply in ENGLISH.");
    const fullPrompt = `${BASE_KNOWLEDGE}\n\n${langInstruction}`;

    try {
        const response = await fetch(`https://generativelanguage.googleapis.com/v1beta/models/gemini-2.5-flash:generateContent?key=${API_KEY}`, {
            method: 'POST',
            headers: { 'Content-Type': 'application/json' },
            body: JSON.stringify({
                systemInstruction: { parts: [{ text: fullPrompt }] },
                contents: [{ parts: [{ text: text }] }]
            })
        });

        const data = await response.json();
        chatHistory.removeChild(loadingDiv);

        if (data.candidates) {
            appendMessage(data.candidates[0].content.parts[0].text, false);
        } else {
            appendMessage("I apologize, I am unable to connect to the server right now.", false);
        }
    } catch (err) {
        chatHistory.removeChild(loadingDiv);
        appendMessage("Network error. Please check your connection.", false);
    }
}

sendBtn.addEventListener('click', sendMessage);
userInput.addEventListener('keypress', (e) => { if(e.key === 'Enter') sendMessage(); });

// Init
renderUI('en');
</script>
</body>
</html>
